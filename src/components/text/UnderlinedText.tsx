import React, { FC, PropsWithChildren } from 'react';
import { useToken } from '@chakra-ui/react';

import Text from '../text';
import Box from '../box';

const UnderlinedText: FC<PropsWithChildren> = ({ children }) => {
  const [brandPrimary] = useToken('colors', ['brand.primary']);

  return (
    <Box
      position="relative"
      width="max-content"
      display="inline-flex"
      alignItems="center"
    >
      <Box
        position="absolute"
        top="1.15em"
        left="0.125ch"
        right="0.125ch"
        height="11px"
        style={{
          backgroundImage: `url("data:image/svg+xml,%3Csvg width='150' height='11' preserveAspectRatio='none' viewBox='0 0 150 11' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M147.274 5.41386C147.053 5.5437 146.98 5.67191 147.056 5.84094C147.207 6.05161 146.986 6.28761 146.765 6.50237C146.619 6.71632 146.249 6.93272 146.028 7.12625C145.806 7.27733 145.585 7.44963 145.363 7.62194C145.886 7.80728 145.737 7.78769 144.699 8.13885C144.923 8.20008 145.073 8.28337 145.297 8.36584C144.405 8.43935 143.587 8.51205 142.619 8.5227C140.238 8.54889 137.857 8.63879 135.475 8.70745C129.522 8.83664 123.494 8.96665 117.541 9.09584C115.383 9.14081 113.298 9.12127 111.14 9.14501C110.247 9.15484 109.279 9.14425 108.386 9.17531C107.94 9.18022 107.419 9.22841 106.973 9.23332C105.558 9.24888 104.219 9.26362 102.804 9.25794C102.656 9.25958 102.432 9.2408 102.283 9.26367C99.9769 9.35275 97.5941 9.27279 95.2871 9.3194C94.171 9.35291 93.0546 9.36519 91.9382 9.37747C90.6729 9.39139 89.4077 9.40531 88.1425 9.41923C84.9421 9.45443 81.7418 9.48964 78.5412 9.50361C75.7128 9.51349 72.8841 9.50214 70.0557 9.51202C68.1948 9.51126 66.2597 9.53254 64.3247 9.55383C63.3571 9.56447 62.3893 9.55389 61.4218 9.56453C60.6031 9.57354 59.8591 9.60295 59.0404 9.61196C58.445 9.61851 57.8489 9.56137 57.179 9.56873C56.2859 9.57856 55.3933 9.63085 54.4257 9.64149C51.0763 9.6571 47.8013 9.67189 44.4519 9.6875C40.6562 9.72926 36.786 9.77183 32.9903 9.81359C31.8739 9.82587 30.8324 9.87979 29.716 9.89207C29.2694 9.89698 28.748 9.86025 28.3014 9.86517C26.7385 9.88236 25.2502 9.91996 23.6872 9.93716C23.3895 9.94043 23.0918 9.94371 22.9441 10.0515C22.9446 10.094 22.5725 10.0981 22.3494 10.1217C19.1493 10.1782 15.9492 10.2346 12.7491 10.291C11.4839 10.305 10.2933 10.3393 9.0283 10.3744C8.3587 10.403 7.76399 10.4733 7.09416 10.4807C5.75425 10.4742 4.41434 10.4677 3.0742 10.4399C2.62741 10.4236 2.25435 10.3428 1.88105 10.2407C1.05979 10.0162 0.461347 9.74675 0.383184 9.40787C0.305722 9.13269 0.153599 8.83709 0.0761365 8.56191C0.0747352 8.43452 0.147761 8.30632 0.220786 8.17811C0.294278 8.09237 0.293344 8.00745 0.366836 7.92171C0.511485 7.53791 0.432621 7.13534 0.726122 6.74991C0.871939 6.47227 1.01775 6.19463 0.865866 5.92027C0.865165 5.85657 1.08774 5.79042 1.16123 5.70468C1.4552 5.36171 1.67451 4.99833 1.96848 4.65536C2.11523 4.46264 2.48503 4.24624 2.33431 4.07803C2.10776 3.78326 2.84898 3.49907 2.39939 3.22798C2.2496 3.14469 2.47148 3.01485 2.61916 2.90706C2.6187 2.8646 2.84128 2.79845 2.76685 2.79926C2.31889 2.67679 2.76405 2.54449 2.91197 2.45793C3.2078 2.28481 2.908 2.09701 3.57596 1.91979C4.09555 1.78667 4.5414 1.71807 5.13681 1.71152C6.77396 1.67228 8.48553 1.63222 10.1229 1.6142C12.8764 1.56268 15.5556 1.51198 18.3093 1.48168C21.3606 1.42689 24.4865 1.3925 27.5377 1.3377C29.6216 1.31478 31.7056 1.29185 33.7895 1.26893C36.4689 1.23945 39.0738 1.2108 41.7531 1.18133C43.0184 1.16741 44.2092 1.15431 45.4747 1.16162C47.0376 1.14443 48.5261 1.12805 50.0893 1.13209C52.3965 1.10671 54.6296 1.10338 56.937 1.09923C59.2445 1.09508 61.6263 1.09012 63.9338 1.08597C66.0924 1.08345 68.1763 1.06053 70.3351 1.07925C73.2382 1.08978 76.1413 1.10031 79.0442 1.08961C81.0539 1.08874 83.0629 1.02417 85.0727 1.0233C87.2313 1.02079 89.4645 1.03869 91.6229 1.01494C94.1534 0.987108 96.6837 0.938041 99.2886 0.909386C103.456 0.863538 107.625 0.83892 111.718 0.793891C114.695 0.761143 117.672 0.707164 120.723 0.652366C124.221 0.592655 127.793 0.532125 131.291 0.472415C134.342 0.417616 137.319 0.321175 140.295 0.245965C142.676 0.177304 145.132 0.129055 147.588 0.0808067C148.109 0.0750758 148.556 0.133856 149.078 0.170587C148.857 0.427815 148.933 0.596844 149.307 0.720136C148.713 0.83284 148.937 0.936538 149.31 0.996138C149.088 1.12598 148.866 1.23459 148.793 1.34156C148.645 1.47059 148.721 1.59715 149.391 1.58978C149.02 1.65757 148.722 1.70331 148.276 1.77191C148.351 1.81356 148.426 1.8552 148.501 1.87561C149.097 1.95399 149.473 2.26836 149.028 2.42188C148.88 2.48722 148.433 2.49213 148.136 2.51663C148.136 2.53786 148.136 2.58033 148.136 2.58033C148.807 2.65788 148.66 2.8506 148.737 2.99839C148.738 3.16824 148.591 3.29726 148.22 3.44997C148.072 3.51531 148.223 3.64105 148.149 3.74803C148.15 3.81172 148.225 3.89582 148.151 3.9391C147.485 4.22248 147.563 4.54012 147.492 4.8594C147.493 4.94433 147.419 5.00884 147.345 5.07335C147.271 5.13786 146.752 5.27098 147.274 5.41386Z' fill='${encodeURIComponent(brandPrimary)}'/%3E%3C/svg%3E%0A")`,
        }}
        bgRepeat="no-repeat"
        bgSize="100% 100%"
      />
      <Text position="relative" width="100%">
        {children}
      </Text>
    </Box>
  );
};

export default UnderlinedText;
