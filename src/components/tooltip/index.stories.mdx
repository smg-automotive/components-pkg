import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { useDisclosure } from '@chakra-ui/react';

import Box from '../box';
import Button from '../button';
import Modal from '../modal';
import { TooltipIcon } from '../icons';
import Tooltip from './index.tsx';

<Meta title="Components/Overlay/Tooltip" component={Tooltip} />

export const TooltipTemplate = (args) => {
  return (
    <Tooltip {...args}>
      <TooltipIcon />
    </Tooltip>
  );
};

export const ModalTemplate = (args) => {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const ref = React.useRef(null);

  return (
    <Box>
      <Button onClick={onOpen}>Open Tooltip inside Modal</Button>
      <Modal isOpen={isOpen} onClose={onClose}>
        <Box ref={ref}>
          <Tooltip {...args} containerRef={ref}>
            <TooltipIcon />
          </Tooltip>
        </Box>
      </Modal>
    </Box>
  );
};

# Tooltip

## Overview

<Canvas>
  <Story
    name="Tooltip"
    args={{
      label: 'I am a tooltip text',
      placement: 'auto',
    }}
    argTypes={{
      placement: {
        options: [
          'auto',
          'auto-start',
          'auto-end',
          'top',
          'bottom',
          'right',
          'left',
          'top-start',
          'top-end',
          'bottom-start',
          'bottom-end',
        ],
        control: 'select',
      },
    }}
  >
    {TooltipTemplate.bind({})}
  </Story>
</Canvas>

## Stacking Order (Inside Modal component)

<Canvas>
  <Story 
    name="Override Stacking Order"
    args={{
      label: 'I am a tooltip in the modal',
      placement: 'auto'
    }}
  >
    {ModalTemplate.bind({})}
  </Story>
</Canvas>