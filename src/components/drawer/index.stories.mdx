import { Canvas, Meta, Story } from '@storybook/addon-docs';

import { useDisclosure, Grid } from '@chakra-ui/react';

import Button from '../button';
import Box from '../box';
import DrawerOverlay from './DrawerOverlay';
import DrawerContent from './DrawerContent';
import DrawerBody from './DrawerBody';

import Drawer from './index';

<Meta
  title="Components/Data display/Drawer"
  component={Drawer}
  parameters={{
    layout: 'fullscreen',
  }}
/>

export const Template = (args) => {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const headerHeight = '60px';
  return (
    <Box
      width="100%"
      height={headerHeight}
      position="absolute"
      pt="xs"
      px="sm"
      bg="gray.100"
      zIndex="popover"
    >
      <Button onClick={onOpen}>Open</Button>
      <Drawer isOpen={isOpen} onClose={onClose} {...args}>
        <DrawerOverlay /> 
        <DrawerContent withCloseButton={args?.withCloseButton} marginTop={headerHeight} p="md">
          <DrawerBody p="lg">
            There is a drawer content
          </DrawerBody>
        </DrawerContent>
      </Drawer>
    </Box>
  );
};

# Drawer

<Canvas>
  <Story
    name="Drawer"
    args={{
      placement: 'top',
      size: 'half',
      withCloseButton: false,
    }}
    argTypes={{
      placement: {
        options: ['top', 'bottom', 'left', 'right'],
        control: 'select',
      },
      size: {
        options: ['xl', 'half', 'full'],
        control: 'select',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
