import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';

import Box from '../box';
import TabPanels from './TabPanels';
import TabPanel from './TabPanel';
import TabList from './TabList';
import Tab from './Tab';

import Tabs from './index';

<Meta title="Components/Navigation/Tabs" component={Tabs} />

export const Template = (args) => {
    const numberOfTabs = args.numberOfTabs ?? 3;
    const tabs = Array.from({ length: numberOfTabs }, (_, index) => (index + 1))
    return (<Tabs {...args}>
        <TabList width="max-content">
            {tabs.map((index)=> <Tab key={`tab-${index}`}>Tab: {index}</Tab>)}
        </TabList>
        <TabPanels>
            {tabs.map((index)=> <TabPanel key={`tab-panel-${index}`}><Box backgroundColor="gray.50" w="full" h="300px"><p>Tab panel: {index}</p></Box></TabPanel>)}
        </TabPanels>
    </Tabs>)

}

# Tab

## Overview

<Canvas>
  <Story
    name="Overview"
    args={{
      isDisabled: false,
      defaultIndex: 0,
      numberOfTabs: 3,
    }}
    argTypes={{
      variant: {
        options: ['spaceBetween', 'spaceAround'],
        control: 'select',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Overview" />

## With one tab disabled

<Canvas>
  <Story
    name="With one tab disabled"
    args={{
      isDisabled: true,
      defaultIndex: 0,
      numberOfTabs: 3,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="With one tab disabled" />

## With second tab selected

<Canvas>
  <Story
    name="With second tab selected"
    args={{
      isDisabled: false,
      defaultIndex: 1,
      numberOfTabs: 3,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="With second tab selected" />
