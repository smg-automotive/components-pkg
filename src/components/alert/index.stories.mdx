import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

import { ErrorIcon } from '../index.ts';
import Alert from './index.tsx';

<Meta
  title="Components/Feedback/Alert"
  component={Alert}
  args={{
    type: 'info',
    dismissible: false,
    onDismiss: false,
  }}
  argTypes={{
    type: {
      options: ['error', 'warning', 'info', 'success'],
      control: 'select',
    },
    dismissible: {
      control: 'boolean',
    },
    onDismiss: {
      control: 'boolean',
    },
  }}
/>

export const Template = ({ onDismiss, dismissible, ...args }) => (
  <Alert
    description="Your Chakra experience may be degraded."
    dismissible={dismissible}
    onDismiss={dismissible && onDismiss ? action('onDismiss') : undefined}
    {...args}
  />
);

# Alert

## Overview

<Canvas>
  <Story
    name="Overview"
    args={{
      type: 'info',
      dismissible: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Overview" />

## States

### Info

<Canvas>
  <Story id="components-feedback-alert-states--info" />
</Canvas>

### Success

<Canvas>
  <Story id="components-feedback-alert-states--success" />
</Canvas>

### Warning

<Canvas>
  <Story id="components-feedback-alert-states--warning" />
</Canvas>

### Error

<Canvas>
  <Story id="components-feedback-alert-states--error" />
</Canvas>

## With Link

<Canvas>
  <Story
    name="With Link"
    args={{
      type: 'info',
      link: {
        url: 'https://www.autoscout24.ch/de',
        text: 'Link',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="With Link" />

## With Title

<Canvas>
  <Story
    name="With Title"
    args={{
      type: 'info',
      title: 'Your browser is outdated!',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="With Title" />

## With custom Icon

<Canvas>
  <Story
    name="With custom Icon"
    args={{
      type: 'error',
      title: 'Your browser is outdated!',
      link: {
        url: 'https://www.autoscout24.ch/de',
        text: 'Link',
      },
      icon: <ErrorIcon />,
    }}
    argTypes={{
      icon: {
        table: {
          disable: true,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="With custom Icon" />

## Dismissible

<Canvas>
  <Story
    name="Dismissible"
    args={{
      type: 'info',
      dismissible: true,
      onDismiss: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Dismissible" />
