import {Canvas, Meta, Story} from '@storybook/addon-docs';
import {action} from '@storybook/addon-actions';

import FilterSelectButton from './index.tsx';
import {Box, Flex} from "@chakra-ui/react";
import Checkbox from '../checkbox';
import Text from '../text';
import Stack from "../stack"


<Meta
    title="Components/Filter/Select button"
    component={FilterSelectButton}
    args={{language: "de"}}
    argTypes={{
        language: {
            options: ['de', 'fr', 'it', 'en'],
            control: 'select',
        },
        filter: {
            table: {
                disable: true,
            },
        },
    }}
/>

export const Template = (args) => (
    <Box w="500px">
        <FilterSelectButton
            {...args}
            onPopoverOpen={action("onPopoverOpen")}
            onPopoverClose={action("onPopoverClose")}
        />
    </Box>);

export const CheckBoxFilter = ({label, facet}) => (
    <Flex justifyContent="space-between" paddingY="xs" paddingX="sm" color="gray.900">
        <Checkbox name={label} label={label}/>
        <Text>{facet}</Text>
    </Flex>
)

export const DummyFilter = () => (
    <Stack spacing="sm">
        <CheckBoxFilter label="Benzin" facet="23"/>
        <CheckBoxFilter label="Diesel" facet="4"/>
        <CheckBoxFilter label="Elektro" facet="8"/>
        <CheckBoxFilter label="Hybrid" facet="55"/>
    </Stack>
)

# Filter select button

## Default

<Canvas>
    <Story
        name="Default"
        args={{
            label: "Treibstoff",
            applyButton: {
                label: "12324 Fahrzeuge",
                onClick: () => null
            },
            filter: <DummyFilter/>
        }}
        argTypes={{
            applyButton: {
                table: {
                    disable: true,
                },
            },
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Applied

<Canvas>
    <Story
        name="Applied"
        args={{
            label: "Treibstoff",
            displayValue: "Benzin, Diesel",
            numberOfAppliedFilters: 5,
            isApplied: true,
            applyButton: {
                label: "12324 Fahrzeuge",
                onClick: action("search")
            },
            filter: <DummyFilter/>
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
