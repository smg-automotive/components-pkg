import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

import Carousel from './index.tsx';
import FullHeight from '../fullHeight';
import Flex from '../flex';

<Meta
  title="Components/Data display/Carousel"
  component={Carousel}
  argTypes={{
    fullScreen: {
      table: {
        disable: true,
      },
    },
  }}
  parameters={{
    layout: 'fullscreen',
  }}
/>

export const Slide = ({ index }) => (
  <Flex
    backgroundColor={['red.500', 'blue.500'][index % 2]}
    justifyContent="center"
    alignItems="center"
    height="300px"
  >
    Slide {index}
  </Flex>
);

export const Template = (args) => (
  <FullHeight>
    <Carousel
      {...args}
      onSlideClick={args.onSlideClick ? action('onSlideClick') : undefined}
    >
      {Array(args.numberOfSlides)
        .fill(0)
        .map((_, i) => (
          <Slide index={i + 1} key={`slide-${i + 1}`} fullScreen={args.fullScreen} />
        ))}
    </Carousel>
  </FullHeight>
);

# Carousel

## Overview

<Canvas>
  <Story
    name="Overview"
    args={{
      startIndex: 0,
      onSlideClick: true,
      fullScreen: false,
      numberOfSlides: 6
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Full Screen

<Canvas>
  <Story
    name="Full screen"
    args={{
      startIndex: 0,
      onSlideClick: true,
      fullScreen: true,
      numberOfSlides: 6
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## With thumbnail pagination

<Canvas>
  <Story
    name="With thumbnail pagination"
    args={{
      startIndex: 0,
      onSlideClick: true,
      fullScreen: true,
      pagination: "thumbnails",
      numberOfSlides: 6
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
