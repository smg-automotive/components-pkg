import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { useArgs } from '@storybook/client-api';
import { useState, useEffect } from 'react';

import DevOverlay from './index.tsx';
import { Brand } from '../../types/brand';
import { FullHeight } from '../index';
import ThemeProvider from '../themeProvider';

<Meta
  title="Theme/DevOverlay"
  component={DevOverlay}
  parameters={{
    layout: 'fullscreen',
  }}
/>

export const Template = ({ ...args }) => {
  const [{ activeTheme }, updateArgs] = useArgs();
  const toggleTheme = () => {
    if (activeTheme === Brand.as24) {
      return updateArgs({ activeTheme: Brand.ms24 });
    }
    return updateArgs({ activeTheme: Brand.as24 });
  };
  return (
    <ThemeProvider theme={activeTheme}>
      <FullHeight>
        <DevOverlay {...args} toggleTheme={toggleTheme} />
      </FullHeight>
    </ThemeProvider>
  );
};

# DevOverlay

## Overview

<Canvas>
  <Story
    name="DevOverlay"
    args={{
      variables: [
        {
          name: 'version',
          value: 'v1-storybook-demo',
        },
        {
          name: 'env',
          value: 'storybook',
        },
      ],
      activeTheme: Brand.as24,
    }}
    argTypes={{
      activeTheme: {
        options: [Brand.as24, Brand.ms24],
        control: 'select',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
