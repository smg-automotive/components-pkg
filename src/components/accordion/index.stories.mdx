import { Canvas, Meta, Story } from '@storybook/addon-docs';

import AccordionPanel from './AccordionPanel';
import AccordionItem from './AccordionItem';
import AccordionButton from './AccordionButton';

import ListItem from '../list/ListItem';
import List from '../list';
import { CheckmarkIcon, TooltipIcon } from '../icons';

import Accordion from './index';

<Meta title="Patterns/Navigation/Accordion" component={Accordion} />

export const Template = (args) => (
  <Accordion
    allowMultiple={args?.allowMultiple}
    allowToggle={args?.allowToggle}
  >
    {args?.items.map((item, i) => (
      <AccordionItem key={i}>
        <AccordionButton leftIcon={item?.leftIcon}>
          {item.title}
        </AccordionButton>
        <AccordionPanel>{item.content}</AccordionPanel>
      </AccordionItem>
    ))}
  </Accordion>
);

# Accordion

## Overview

<Canvas>
  <Story
    name="Overview"
    args={{
      allowMultiple: true,
      items: [
        {
          title: 'Section 1',
          content: 'First section content.',
        },
        {
          title: 'Section 2',
          content: 'Second section content.',
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## With icons

<Canvas>
  <Story
    name="With icons"
    args={{
      allowMultiple: true,
      items: [
        {
          title: 'Section 1',
          leftIcon: <TooltipIcon color="orange.400" />,
          content: 'First section content.',
        },
        {
          title: 'Section 2',
          leftIcon: <CheckmarkIcon color="green.400" />,
          content: 'Second section content.',
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## With menu list

<Canvas>
  <Story
    name="With menu list"
    parameters={{
      viewport: {
        defaultViewport: 'xs',
      },
    }}
    args={{
      allowToggle: true,
      items: [
        {
          title: 'Section 1',
          content: (
            <List>
              <ListItem>Item 1</ListItem>
              <ListItem>Item 2</ListItem>
              <ListItem>Item 3</ListItem>
            </List>
          ),
        },
        {
          title: 'Section 2',
          content: (
            <List>
              <ListItem>Item 1</ListItem>
              <ListItem>Item 2</ListItem>
              <ListItem>Item 3</ListItem>
            </List>
          ),
        },
        {
          title: 'Section 3',
          content: (
            <List>
              <ListItem>Item 1</ListItem>
              <ListItem>Item 2</ListItem>
              <ListItem>Item 3</ListItem>
            </List>
          ),
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
